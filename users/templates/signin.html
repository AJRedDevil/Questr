{% extends "mainbase.html" %}
{% load staticfiles %}
{% block localhead %}
    <!-- CSS -->
    <link href={% static "css/social-buttons.css" %} rel="stylesheet">
    <link href={% static "css/sign.css" %} rel="stylesheet">

{% endblock localhead %}
{% block content %} 
   
<div class="container-fluid" ng-app="validationApp" ng-controller="mainController">
    <div class="row clearfix">
        <div class="col-sm-4 col-sm-offset-4 col-md-4 col-md-offset-4 col-lg-4 col-lg-offset-4 column">
        	<div class="panel panel-default">
	        	<div class="panel-heading">
		        	<center><div class="panel-title lead">Sign in</div></center>
		        </div>
          <div class="panel-body">
    		<form name="userForm" ng-submit="submitForm()" novalidate>
    		
    		<!-- Login with Username and Password --> 
           <div class="form-group" ng-class="{ 'has-error' : userForm.username.$invalid && !userForm.username.$pristine }">{% csrf_token %}
           		<br>
                     
                    <input type="email" name="email" class="form-control" ng-model="user.email">
            <p ng-show="userForm.email.$invalid && !userForm.email.$pristine" class="help-block">Enter a valid email.</p>                   
            
             <p> 
                    {% if auth_form.username.errors %}
                    	{{ auth_form.username.errors }}
                    {% endif %}
                    </p>
        
                <div class="help-block with-errors"></div>
            
                           
	            <input type="password" class="form-control input-sm" name="password" id="exampleInputPassword1" placeholder="Password">
	          <p> 
	            {% if auth_form.password.errors %}
	            {{ auth_form.password.errors }}
	            {% endif %}
	            {% if auth_form.errors %}
	                {{ auth_form.non_field_errors }}
	            {% endif %}
	          </p>
                        
	            <a href="{% url 'reset_password' %}"><small>Forgot password?</small></a>
	          <center><button type="submit" class="btn btn-sm btn-embossed btn-info">Sign in</button></center>
			</div> <!-- End of Login with Username and Password -->
           
           <hr>
            <center>
                <h6 class="grey">Sign in with</h6>
                <a href="{% url 'social:begin' 'facebook' %}"><button class="btn btn-facebook"><i class="fa fa-facebook"></i></button></a>
                <a href="{% url 'social:begin' 'twitter' %}"><button class="btn btn-twitter"><i class="fa fa-twitter"></i></button></a>
                {% comment %}
                ## This is for google plus based authentication ##
                    {% if plus_id %}
                    <form id="google-plus" method="post" action="{% url 'social:complete' 'google-plus' %}">{% csrf_token %}
                      <input id="at" type="hidden" name="access_token" value="" />
                      <input id="code" type="hidden" name="code" value="" />
        
                      <div id="signinButton">
                        <span class="g-signin" data-scope="{{ plus_scope }}"
                                               data-clientid="{{ plus_id }}"
                                               data-redirecturi="postmessage"
                                               data-accesstype="offline"
                                               data-cookiepolicy="single_host_origin"
                                               data-callback="signInCallback">
                        </span>
                      </div>
                    </div>
                    {% endif %}
                {% endcomment %}
                <a href="{% url 'social:begin' 'google-oauth2' %}"><button class="btn btn-google-plus"><i class="fa fa-google-plus"></i></button></a>       
            </center>
            
            </form>
          </div><!-- ./panel-body -->
        	</div><!-- ./panel -->
        		<div class="col-md-12">
        	<p class="text-center grey">Don't have a Questr account?  <a href="{% url 'signup' %}">Sign up</a> today.</p>
        </div>      
        </div><!-- ./column -->
    </div><!-- ./row -->
</div><!-- ./container -->



{% endblock %}
{% block scripts %}
{% endblock scripts %}