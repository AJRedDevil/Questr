{% extends "mainbase.html" %}
{% load staticfiles %}
{% block localhead %}
    <!-- Custom CSS -->
    <link href={% static "css/profile.css" %} rel="stylesheet">
    <link href={% static "css/settings.css" %} rel="stylesheet">

    <!-- Custom Javascript -->
    <script src={% static "js/validator.js" %}></script>
{% endblock localhead %}
{% block content %}
    <div class="container">
    <div class="col-sm-2">
    <nav class="nav-sidebar">
        <ul class="nav tabs well">
          <li class=""><a href="/user/settings">Account</a></li>
          <li class="active"><a href="/user/settings/password">Password</a></li>
          <li class=""><a href="#tab3" data-toggle="tab">Email Notifications</a></li>                               
        </ul>
    </nav>
</div>
<!-- tab content -->
<div class="container">
    <div class="row">
      <div class="col-md-6">
        <div class="well well-sm">
          {% if password %}
            <form class="form-horizontal" data-toggle="validator" action="" method="post"> {% csrf_token %}
              <input type="hidden" name="formtype" value="changepassword">
            <fieldset>
              <legend class="text-center">Change your password here</legend>
            
              <!-- Current Password -->
              <div class="form-group">
                <label class="col-md-4 control-label" for="name">Current password</label>
                <div class="col-md-8">
                  <input id="password" name="password" type="password" placeholder="Enter your current password here" class="form-control">
                </div>
              </div>
             {% if user_form.password.errors %}
                 {{user_form.password.errors}}
             {% endif %}
            
              <!-- New Password -->
              <div class="form-group">
                <label class="col-md-4 control-label" for="name">New password</label>
                <div class="col-md-8">
                  <input id="inputPassword" name="password1" type="password" data-toggle="validator" data-minlength="6" placeholder="Enter your new password here" class="form-control" required>
                </div>
              </div>
              
              <!-- Retype New Password -->
              <div class="form-group">
                <label class="col-md-4 control-label" for="name"></label>
                <div class="col-md-8">
                  <input id="inputPasswordConfirm" name="password2" type="password" placeholder="Retype your password here" class="form-control" data-minlength="6" data-match="#inputPassword" data-match-error="Your two passwords don't match" required>
                  <div class="help-block with-errors"></div>
                </div>
              </div>
              {% if user_form.password2.errors %}
                  {{user_form.password2.errors}}
              {% endif %}
              <!-- Form actions -->
              <div class="form-group">
                <div class="col-md-12 text-center">
                  <button type="submit" class="btn btn-primary btn-md">Save</button>
                </div>
              </div>
            </fieldset>
            </form>
          {% else %}
              You do not have a password yet. Please click <a href="/user/createpassword">here</a> to create a password !
          {% endif %}

        </div>
      </div>
    </div>
</div>               
</div>
{% endblock content %}
{% block scripts %}
{% endblock scripts %}