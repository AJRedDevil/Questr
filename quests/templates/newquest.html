{% extends "mainbase.html" %}
{% load staticfiles %}
{% load active %}
{% block localhead %}
  <!-- Custom CSS -->
    <link href={% static "css/quest.css" %} rel="stylesheet">
{% endblock localhead %}
{% block content %}

<div class="container-fluid">
	<div class="row clearfix">
		<div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3 column">
			<div class="panel panel-default body-prop border-colours">
				<div class="panel-heading">
					<div class="panel-title light-grey">Request a shipment</div>
				</div><!-- ./panel-heading -->

		

				<div class="panel-body" ng-app="postApp" ng-controller="mainController">

					<form class="form-horizontal css-form" action="{% url 'newquest' %}" method="post" enctype="multipart/form-data" name="form" ng-submit="submitForm()" novalidate>{% csrf_token %}
						<!-- Name input-->
						<div class="form-group">
							<label class="col-xs-12 col-sm-4 col-md-4 col-lg-4 column control-label" for="name"><p class="light-grey">Title</p></label>
							<div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 column">
								<input class="form-control ng-pristine ng-invalid" ng-model="user.title" name="title" type="text" placeholder="Shipment title" ng-minlength="3" ng-maxlength="40" required>
								<!-- Title Error -->
								
								<div ng-show="form.title.$dirty && form.title.$invalid">Invalid:
							   		<span ng-show="form.title.$error.required">A title is required</span>
							   		<span style="color:red" ng-show="form.title.$error.minlength">
						        	Your Title Should Contain Atleast 3 Characters</span>
						       		<span style="color:red" ng-show="form.title.$error.maxlength">
						        	Sorry You are Exceeding the Limit</span>
							    </div>
							</div><!-- ./column -->
						</div><!-- ./form-group -->
						{{user_form.title.errors}}
						<!-- Size input-->
						<div class="form-group" id="size">
							<label class="col-xs-12 col-sm-4 col-md-4 col-lg-4 column control-label" for="message"><p class="light-grey">Package size</p></label>
							<div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 column">
								<div class="input-group col-xs-10 col-xs-offset-1 col-sm-10 col-sm-offset-1 col-md-10 col-md-offset-1 col-lg-10 col-lg-offset-1 column">	
									<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 column">
										<center>
											<img src={% static 'img/backpack.png' %} style="width:100%; height:auto;" />       	 	
											<p>Backpack</p>
											<input type="radio" name="size" ng-model="user.size" value="backpack" ng-model="user.backapck" required> 
										</center>	
									</div><!-- ./column -->  
									<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 column">
										<center>
											<img src={% static 'img/car.png' %} style="width:100%; height:auto;" />
											<p>Car</p>
											<input type="radio" name="size" ng-model="user.size" value="car" ng-model="user.car" required>
										</center>	
									</div><!-- ./column -->
									<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 column">
										<center>
											<img src={% static 'img/minivan.png' %} style="width:100%; height:auto;" />
											<p>Minivan</p>
											<input type="radio" name="size" ng-model="user.size" value="minivan" ng-model="user.van" required>
										</center> 	
									</div><!-- ./column -->
								</div><!-- /input-group -->
							</div><!-- ./column -->
						</div><!-- ./form-group -->
						{{user_form.size.errors}}
						<!-- Message body -->
						<div class="form-group">
							<label class="col-xs-12 col-sm-4 col-md-4 col-lg-4 column control-label" for="message"><p class="light-grey">Message</p></label>
							<div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 column">
								<textarea class="form-control ng-pristine ng-invalid" id="description" name="description" placeholder="Brief description of the delivery or anything the shipper should be aware of" rows="5" ng-model="user.description" ng-minlength="3" ng-maxlength="400" required></textarea>
								<!-- Description Erorrs-->
								<div ng-show="form.description.$dirty && form.description.$invalid">Invalid:
							   		<span ng-show="form.description.$error.required">A description is required</span>
							   		<span style="color:red" ng-show="form.description.$error.minlength">
						        	Your Title Should Contain Atleast 3 Characters</span>
						       		<span style="color:red" ng-show="form.description.$error.maxlength">
						        	Sorry You are Exceeding the Limit</span>
							    </div>
							</div><!-- ./column -->
						</div><!-- ./form-group -->

						<!-- Location input-->
						<div class="form-group">
							<label class="col-xs-12 col-sm-4 col-md-4 col-lg-4 column control-label"><p class="light-grey">Pick up from</p></label>
							<div class="col-xs-12 col-sm-4 col-md-4 col-lg-4 column"> 
								<select class="btn-classic" data-size="5" name="srccity" ng-model="user.city" required>
									<option>Toronto</option>
									<option>Brampton</option>
									<option>Markham</option>
									<option>Mississauga</option>
									<option>Richmond Hill</option>
									<option>Vaughan</option>
								</select>
							</div><!-- ./column -->
							<div class="col-xs-12 col-sm-4 col-md-4 col-lg-4 column"></div>  
						</div>  <!-- ./form-group -->
						{{user_form.srccity.errors}}
						<!-- Pickup Address input-->

						<div class="form-group">
							<label class="col-xs-12 col-sm-4 col-md-4 col-lg-4 column control-label" for="name"></label>
							<div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 column">
								<input class="form-control input-xs ng-pristine ng-invalid" id="srcaddress" name="srcaddress" type="text" placeholder="Departure Address" ng-model="user.departure" required>
							</div><!-- ./column -->
						</div><!-- ./form-group -->
						{{user_form.srcaddress.errors}}

						<!-- Pickup Name input-->
						<div class="form-group">
							<label class="col-xs-12 col-sm-4 col-md-4 col-lg-4 column control-label" for="name"></label>
							<div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 column">
								<input id="srcname" name="srcname" type="text" placeholder="Name of the sender" class="form-control input-xs" ng-model="user.srcname" required>
							</div><!-- ./column -->
						</div><!-- ./form-group -->
						{{user_form.srcname.errors}}


						<!-- Pickup Phone input-->
						<div class="form-group">
							<label class="col-xs-12 col-sm-4 col-md-4 col-lg-4 column control-label" for="name"></label>
							<div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 column">
								<input id="srcphone" name="srcphone" type="text" placeholder="Phone number" class="form-control ng-pristine ng-invalid" ng-model="user.srcphone" required>
							</div><!-- ./column -->
						</div><!-- ./form-group -->
						{{user_form.srcphone.errors}}

						<!-- Pickup Postal Code input-->
						<div class="form-group">
							<label class="col-xs-12 col-sm-4 col-md-4 col-lg-4 column control-label" for="name"></label>
							<div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 column">
								<input id="srcpostalcode" name="srcpostalcode" type="text" placeholder="Postal Code" class="form-control ng-pristine ng-invalid" ng-model="user.srcpostalcode" required>
							</div><!-- ./column -->
						</div><!-- ./form-group -->
						{{user_form.srcpostalcode.errors}}

						<div class="form-group">
							<label class="col-xs-12 col-sm-4 col-md-4 col-lg-4 column control-label"><p class="light-grey">Drop off at</p></label>
							<div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 column">   
								<select class="btn-classic" data-size="5" name="dstcity" ng-model="user.city2" required>
									<option>Toronto</option>
									<option>Brampton</option>
									<option>Markham</option>
									<option>Mississauga</option>
									<option>Richmond Hill</option>
									<option>Vaughan</option>
								</select>
							</div><!-- ./column -->
						</div>  <!-- ./form-group -->  
						{{user_form.dstcity.errors}}

						<!-- Dropoff Address input-->
						<div class="form-group">
							<label class="col-xs-12 col-sm-4 col-md-4 col-lg-4 column control-label" for="name"></label>
							<div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 column">
								<input class="form-control input-xs ng-pristine ng-invalid" id="dstaddress" name="dstaddress" type="text" placeholder="Destination Address" ng-model="user.destination" required />
								
							</div><!-- ./column -->
						</div><!-- ./form-group -->
						{{user_form.dstaddress.errors}}

						<!-- Dropoff Name input-->
						<div class="form-group">
							<label class="col-xs-12 col-sm-4 col-md-4 col-lg-4 column control-label" for="name"></label>
							<div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 column">
								<input id="dstname" name="dstname" type="text" placeholder="Name of the receiver" class="form-control ng-pristine ng-invalid" ng-model="user.dstname" required>
							</div><!-- ./column -->
						</div><!-- ./form-group -->
						{{user_form.dstname.errors}}

						<!-- Dropoff Phone input-->
						<div class="form-group">
							<label class="col-xs-12 col-sm-4 col-md-4 col-lg-4 column control-label" for="name"></label>
							<div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 column">

								<input id="dstphone" name="dstphone" type="text" placeholder="Phone number" class="form-control ng-pristine ng-invalid" ng-model="user.dstphone" required>
							</div><!-- ./column -->
						</div><!-- ./form-group -->
						{{user_form.dstphone.errors}}

						<!-- Dropoff Postal Code input-->
						<div class="form-group"
							<label class="col-xs-12 col-sm-4 col-md-4 col-lg-4 column control-label" for="name"></label>
							<div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 column">
								<input id="dstpostalcode" name="dstpostalcode" type="text" placeholder="Postal Code" class="form-control ng-pristine ng-invalid" ng-model="user.dstpostalcode" required>
							</div><!-- ./column -->
						</div><!-- ./form-group -->
						{{user_form.dstpostalcode.errors}}


						<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 column text-center">
							<button type="submit" class="btn btn-info" ng-disabled="postForm.$invalid || isUnchanged(user)">Continue</button>
						</div><!-- ./column -->
					</form>     
				</div><!-- ./panel-body -->
			</div><!-- ./panel -->


		</div><!-- ./column -->
	</div><!-- ./row -->
	{% endblock content %}
</div><!-- ./container-fluid -->


{% block scripts %}
<!-- Custom Javascript -->
  <script src={% static "js/validator.js" %}></script>
{% endblock scripts %}